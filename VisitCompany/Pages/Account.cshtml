@page
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model AccountModel
@{
    ViewData["Title"] = "ورود و ثبت نام";
}

@if (@TempData["SuccessfuleMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessfuleMessage"]
    </div>
}

<div class="breadcrumb-area section-space--half">
    <div class="container wide">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb-wrapper breadcrumb-bg">
                    <div class="breadcrumb-content">
                        <h2 class="breadcrumb-content__title">ورود - ثبت نام</h2>
                        <ul class="breadcrumb-content__page-map">
                            <li><a asp-page="/Index">صفحه اصلی</a></li>
                            <li class="active">ورود - ثبت نام</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="page-content-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="page-wrapper">
                    <div class="page-content-wrapper">
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-xs-12 col-lg-6">

                                @if (Model.LoginMessage != null)
                                {
                                    <div class="alert alert-danger">
                                        @Model.LoginMessage
                                    </div>
                                }

                                <form method="post" asp-page-handler="Login">
                                    <div class="login-form">
                                        <h4 class="login-title">ورود</h4>
                                        <div class="row">
                                            <div class="col-md-12 col-12">
                                                <label> نام کاربری*</label>
                                                <input type="text" name="username" placeholder=" نام کاربری ">
                                            </div>
                                            <div class="col-12">
                                                <label>رمز عبور</label>
                                                <input type="tel" name="mobile" placeholder="شماره موبایل">
                                            </div>
                                            <div class="col-sm-6 text-left text-sm-right">
                                                <a href="#" class="forget-pass-link"> فراموشی رمز</a>
                                            </div>
                                            <div class="col-md-12">
                                                <button class="register-button">ورود</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                      @*       <div class="col-sm-12 col-md-12 col-lg-6 col-xs-12">

                                @if (Model.RegisterMessage != null)
                                {
                                    <div class="alert alert-danger">
                                        @Model.RegisterMessage
                                    </div>
                                }

                                <form method="post" asp-page-handler="Register" onsubmit="return validatePassword()">
                                    <div class="login-form">
                                        <h4 class="login-title">ثبت نام</h4>
                                        <div class="row">
                                            <div class="col-md-6 col-12 mb-20">
                                                <label>نام و نام خانوادگی</label>
                                                <input type="text" name="RegisterAccount.Fullname" placeholder="نام">
                                                <span asp-validation-for="RegisterAccount.Fullname" class="text-danger"></span>
                                            </div>
                                            <div class="col-md-6 col-12 mb-20">
                                                <label> نام کاربری</label>
                                                <input type="text" name="RegisterAccount.Username" placeholder=" نام کاربری">
                                                <span asp-validation-for="RegisterAccount.Username" class="text-danger"></span>
                                            </div>
                                            <div class="col-md-12 mb-20">
                                                <label>موبایل</label>
                                                <input type="text" name="RegisterAccount.Mobile" placeholder="موبایل">
                                                <span asp-validation-for="RegisterAccount.Mobile" class="text-danger"></span>
                                            </div>
                                            <div class="col-md-6 mb-20">
                                                <label>رمز عبور</label>
                                                <input type="password" name="RegisterAccount.Password" placeholder="رمز عبور">
                                                <span asp-validation-for="RegisterAccount.Password" class="text-danger"></span>
                                            </div>
                                            <div class="col-md-6 mb-20">
                                                <label>تایید رمز عبور </label>
                                                <input type="password" name="RegisterAccount.Repassword" placeholder="تایید رمز عبور ">
                                                <span asp-validation-for="RegisterAccount.Repassword" class="text-danger"></span>
                                            </div>
                                            <div class="col-12">
                                                <button class="register-button mt-0">ثبت نام</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>

                            </div> *@
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script>
    $(function () {
        $.validator.addMethod('regex', function (value, element, regexp) {
            return this.optional(element) || regexp.test(value);
        }, 'لطفاً یک مقدار معتبر وارد کنید.');

        $('form').validate({
            rules: {
                'RegisterAccount.Password': {
                    required: true,
                    minlength: 8,
                    regex: /(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[\W_])/
                },
                'RegisterAccount.Repassword': {
                    equalTo: '[name="RegisterAccount.Password"]'
                }
            },
            messages: {
                'RegisterAccount.Password': {
                    required: 'رمز عبور الزامی است',
                    minlength: 'رمز عبور باید حداقل 8 کاراکتر باشد',
                    regex: 'رمز عبور باید شامل حرف بزرگ، حرف کوچک، عدد و کاراکتر ویژه باشد'
                },
                'RegisterAccount.Repassword': {
                    equalTo: 'رمز عبور و تایید رمز عبور باید مطابقت داشته باشند.'
                }
            }
        });
    });
</script>

